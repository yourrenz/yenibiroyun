<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ki≈üisel Portfolyo ve Oyun D√ºnyasƒ±</title>

<style>
:root {
  --primary:#2563eb;
  --dark:#1e293b;
  --light:#f8fafc;
  --accent:#f59e0b;
}

body {
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:var(--light);
  color:var(--dark);
}

header {
  background:var(--dark);
  color:white;
  padding:1rem 2rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.nav-links {
  display:flex;
  gap:20px;
}
.nav-links a {
  color:white;
  cursor:pointer;
  text-decoration:none;
}
.nav-links a:hover { color:var(--accent); }

main {
  max-width:1100px;
  margin:auto;
  padding:2rem;
}

.game-menu {
  display:flex;
  justify-content:center;
  gap:20px;
  margin-bottom:20px;
}

.game-card {
  cursor:pointer;
  border:2px solid #ddd;
  padding:15px;
  border-radius:10px;
  width:130px;
  text-align:center;
  transition:.3s;
}
.game-card:hover {
  background:#e2e8f0;
  border-color:var(--primary);
}

canvas {
  display:block;
  margin:auto;
  background:black;
  border:6px solid var(--primary);
}

#game-canvas-wrapper {
  display:none;
  text-align:center;
}

#scoreBoard {
  font-size:24px;
  font-weight:bold;
  color:white;
  margin-bottom:10px;
}
</style>
</head>

<body>

<header>
  <strong>Hazƒ±rlayan: Sen</strong>
  <nav class="nav-links">
    <a onclick="showSection('home')">Ana Sayfa</a>
    <a onclick="showSection('games')">Oyunlar</a>
  </nav>
</header>

<main>

<section id="home-section">
  <h1>Ho≈ü Geldin üëã</h1>
  <p>Oyun salonuma ho≈ü geldin.</p>
</section>

<section id="games-section" style="display:none;">
  <h2 style="text-align:center">üéÆ Oyun Salonu</h2>

  <div class="game-menu">
    <div class="game-card" onclick="startGame('snake')">üêç<br>Yƒ±lan</div>
    <div class="game-card" onclick="startGame('tetris')">üß±<br>Tetris</div>
    <div class="game-card" onclick="startGame('pacman')">üçï<br>Pacman</div>
  </div>

  <div id="game-canvas-wrapper">
    <div id="scoreBoard">Skor: <span id="scoreValue">0</span></div>
    <h3 id="game-title"></h3>
    <canvas id="gameCanvas" width="600" height="600"></canvas>
    <p id="game-controls"></p>
  </div>
</section>

</main>

<script>
/* ===== GLOBAL ===== */
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
const scoreValue = document.getElementById("scoreValue");
const gameTitle = document.getElementById("game-title");
const gameControls = document.getElementById("game-controls");
const wrapper = document.getElementById("game-canvas-wrapper");

let gameInterval = null;
let currentGame = null;
let globalScore = 0;

function resetScore(){ globalScore=0; scoreValue.innerText=0; }
function addScore(v){ globalScore+=v; scoreValue.innerText=globalScore; }

function showSection(sec){
  document.querySelectorAll("main section").forEach(s=>s.style.display="none");
  document.getElementById(sec+"-section").style.display="block";
  stopGame();
}

function stopGame(){
  if(gameInterval) clearInterval(gameInterval);
  document.onkeydown=null;
  wrapper.style.display="none";
}

function startGame(g){
  stopGame();
  wrapper.style.display="block";
  resetScore();
  currentGame=g;
  if(g==="snake") startSnake();
  if(g==="tetris") startTetris();
  if(g==="pacman") startPacman();
}

/* ===== YILAN ===== */
let snake, food, dir;
const box=20;
const obstacles=[
  {x:200,y:200},{x:220,y:200},{x:240,y:200}
];

function startSnake(){
  gameTitle.innerText="üêç Yƒ±lan Oyunu";
  gameControls.innerText="Y√∂n tu≈ülarƒ± | Engellere √ßarpma";
  snake=[{x:300,y:300}];
  food=randomFood();
  dir="RIGHT";
  document.onkeydown=e=>{
    if(e.key==="ArrowUp"&&dir!=="DOWN")dir="UP";
    if(e.key==="ArrowDown"&&dir!=="UP")dir="DOWN";
    if(e.key==="ArrowLeft"&&dir!=="RIGHT")dir="LEFT";
    if(e.key==="ArrowRight"&&dir!=="LEFT")dir="RIGHT";
  };
  gameInterval=setInterval(drawSnake,120);
}

function randomFood(){
  return {x:Math.floor(Math.random()*30)*box,y:Math.floor(Math.random()*30)*box};
}

function drawSnake(){
  ctx.clearRect(0,0,600,600);

  ctx.fillStyle="gray";
  obstacles.forEach(o=>ctx.fillRect(o.x,o.y,box,box));

  snake.forEach((s,i)=>{
    ctx.fillStyle=i===0?"lime":"#22c55e";
    ctx.fillRect(s.x,s.y,box,box);
  });

  ctx.fillStyle="red";
  ctx.fillRect(food.x,food.y,box,box);

  let head={...snake[0]};
  if(dir==="UP")head.y-=box;
  if(dir==="DOWN")head.y+=box;
  if(dir==="LEFT")head.x-=box;
  if(dir==="RIGHT")head.x+=box;

  if(
    head.x<0||head.y<0||head.x>=600||head.y>=600||
    snake.some(p=>p.x===head.x&&p.y===head.y)||
    obstacles.some(o=>o.x===head.x&&o.y===head.y)
  ){
    alert("Oyun Bitti! Skor: "+globalScore);
    startSnake(); return;
  }

  if(head.x===food.x&&head.y===food.y){
    addScore(10);
    food=randomFood();
  } else snake.pop();

  snake.unshift(head);
}

/* ===== TETRIS ===== */
let arena,player;
function startTetris(){
  gameTitle.innerText="üß± Tetris";
  gameControls.innerText="‚Üê ‚Üí ‚Üë ‚Üì";
  ctx.setTransform(20,0,0,20,0,0);
  arena=Array.from({length:20},()=>Array(12).fill(0));
  player={pos:{x:4,y:0},matrix:[[1,1,1],[0,1,0]]};
  document.onkeydown=e=>{
    if(e.key==="ArrowLeft")player.pos.x--;
    if(e.key==="ArrowRight")player.pos.x++;
    if(e.key==="ArrowDown")drop();
    if(e.key==="ArrowUp")player.matrix=player.matrix[0].map((_,i)=>player.matrix.map(r=>r[i]).reverse());
  };
  gameInterval=setInterval(updateTetris,500);
}

function drop(){
  player.pos.y++;
  if(collide()){
    player.pos.y--;
    merge();
    sweep();
    player.pos.y=0;
  }
}

function collide(){
  return player.matrix.some((r,y)=>r.some((v,x)=>
    v&&(arena[y+player.pos.y]&&arena[y+player.pos.y][x+player.pos.x])!==0));
}

function merge(){
  player.matrix.forEach((r,y)=>r.forEach((v,x)=>{
    if(v)arena[y+player.pos.y][x+player.pos.x]=1;
  }));
}

function sweep(){
  arena.forEach((row,y)=>{
    if(row.every(v=>v)){
      arena.splice(y,1);
      arena.unshift(Array(12).fill(0));
      addScore(100);
    }
  });
}

function updateTetris(){
  ctx.fillStyle="black";
  ctx.fillRect(0,0,12,20);
  arena.forEach((r,y)=>r.forEach((v,x)=>{
    if(v){ctx.fillStyle="cyan";ctx.fillRect(x,y,1,1);}
  }));
  player.matrix.forEach((r,y)=>r.forEach((v,x)=>{
    if(v){ctx.fillRect(x+player.pos.x,y+player.pos.y,1,1);}
  }));
  drop();
}

/* ===== PACMAN ===== */
const tile=30;
const map=[
[1,1,1,1,1,1,1],
[1,0,0,0,0,0,1],
[1,0,1,0,1,0,1],
[1,0,0,0,0,0,1],
[1,1,1,1,1,1,1]
];
let pacman,ghost;

function startPacman(){
  gameTitle.innerText="üçï Pacman";
  gameControls.innerText="Y√∂n tu≈ülarƒ±";
  pacman={x:1,y:1,dx:0,dy:0};
  ghost={x:5,y:3};
  document.onkeydown=e=>{
    if(e.key==="ArrowLeft"){pacman.dx=-1;pacman.dy=0;}
    if(e.key==="ArrowRight"){pacman.dx=1;pacman.dy=0;}
    if(e.key==="ArrowUp"){pacman.dx=0;pacman.dy=-1;}
    if(e.key==="ArrowDown"){pacman.dx=0;pacman.dy=1;}
  };
  gameInterval=setInterval(drawPacman,200);
}

function drawPacman(){
  ctx.clearRect(0,0,600,600);
  map.forEach((r,y)=>r.forEach((v,x)=>{
    if(v){ctx.fillStyle="blue";ctx.fillRect(x*tile,y*tile,tile,tile);}
    else{ctx.fillStyle="white";ctx.fillRect(x*tile+12,y*tile+12,6,6);}
  }));

  let nx=pacman.x+pacman.dx, ny=pacman.y+pacman.dy;
  if(map[ny][nx]===0){ pacman.x=nx; pacman.y=ny; addScore(10); map[ny][nx]=2; }

  ctx.fillStyle="yellow";
  ctx.beginPath();
  ctx.arc(pacman.x*tile+15,pacman.y*tile+15,14,0,Math.PI*2);
  ctx.fill();

  ctx.fillStyle="red";
  ctx.beginPath();
  ctx.arc(ghost.x*tile+15,ghost.y*tile+15,14,0,Math.PI*2);
  ctx.fill();

  if(pacman.x===ghost.x&&pacman.y===ghost.y){
    alert("Oyun Bitti! Skor: "+globalScore);
    startPacman();
  }
}
</script>
</body>
</html>
