<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yazƒ±lƒ±m Portfolyosu v1.4.0</title>
    <style>
        :root { --primary: #3b82f6; --dark: #0f172a; --light: #f8fafc; --accent: #fbbf24; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--light); color: var(--dark); }
        header { background: var(--dark); color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .nav-links a { color: #94a3b8; text-decoration: none; margin: 0 15px; cursor: pointer; transition: 0.3s; font-weight: 500; }
        .nav-links a:hover { color: var(--accent); }
        .btn-log { background: var(--accent); border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        
        main { padding: 2rem; max-width: 1200px; margin: auto; }
        .game-wrapper { display: none; background: #1e293b; padding: 25px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.4); text-align: center; }
        .game-header { display: flex; justify-content: space-between; color: white; margin-bottom: 15px; background: rgba(255,255,255,0.05); padding: 10px 20px; border-radius: 10px; }
        
        canvas { background: #000; border: 3px solid #334155; border-radius: 8px; margin: 0 auto; display: block; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .game-menu { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .game-card { background: white; padding: 30px; border-radius: 15px; text-align: center; cursor: pointer; transition: 0.3s; border: 1px solid #e2e8f0; }
        .game-card:hover { transform: translateY(-5px); border-color: var(--primary); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }

        #logModal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 2rem; z-index: 2000; width: 90%; max-width: 600px; border-radius: 15px; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    </style>
</head>
<body>

<header>
    <div style="font-size: 1.2rem; letter-spacing: 1px;"><strong>ARCADE PORTFOLIO</strong></div>
    <nav class="nav-links">
        <a onclick="showSection('home')">Ana Sayfa</a>
        <a onclick="showSection('games')">Oyunlar</a>
    </nav>
    <button class="btn-log" onclick="toggleLogs()">G√úNL√úK v1.4</button>
</header>

<main>
    <section id="home-section">
        <div style="text-align:center; padding: 3rem 0;">
            <h1>Ho≈ü Geldiniz! üöÄ</h1>
            <p>v1.4.0 g√ºncellemesi ile oyun mekanikleri geli≈ütirildi.</p>
        </div>
    </section>

    <section id="games-section" style="display:none;">
        <div class="game-menu">
            <div class="game-card" onclick="startGame('snake')">üêç <h3>B√ºy√ºyen Yƒ±lan</h3></div>
            <div class="game-card" onclick="startGame('tetris')">üß± <h3>Tam Tetris</h3></div>
            <div class="game-card" onclick="startGame('pacman')">üçï <h3>Geni≈ü Pacman</h3></div>
        </div>

        <div id="game-canvas-wrapper" class="game-wrapper">
            <div class="game-header">
                <span id="game-name">OYUN</span>
                <span>SKOR: <strong id="live-score">0</strong></span>
            </div>
            <canvas id="gameCanvas"></canvas>
        </div>
    </section>
</main>

<div id="logModal">
    <span style="float:right; cursor:pointer;" onclick="toggleLogs()">Kapat [X]</span>
    <h2>G√ºncelleme G√ºnl√ºƒü√º</h2>
    <table>
        <tr style="background:#f1f5f9;"><th>Versiyon</th><th>Yenilikler</th></tr>
        <tr><td>v1.4.0</td><td>Tetris bloklarƒ± tamamlandƒ±. Pacman Google tarzƒ± geni≈üledi. Yƒ±lan b√ºy√ºme fixi.</td></tr>
        <tr><td>v1.3.0</td><td>UI/UX ve Neon efektleri.</td></tr>
    </table>
</div>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const scoreEl = document.getElementById("live-score");
    const nameEl = document.getElementById("game-name");
    let gameInterval = null;
    let score = 0;

    function showSection(s) {
        document.querySelectorAll('main > section').forEach(sec => sec.style.display = 'none');
        document.getElementById(s + '-section').style.display = 'block';
        stopGame();
    }

    function toggleLogs() {
        const m = document.getElementById('logModal');
        m.style.display = m.style.display === 'block' ? 'none' : 'block';
    }

    function stopGame() {
        if (gameInterval) clearInterval(gameInterval);
        document.removeEventListener("keydown", snakeControl);
        document.removeEventListener("keydown", tetrisControl);
        document.removeEventListener("keydown", pacmanControl);
        document.getElementById('game-canvas-wrapper').style.display = 'none';
    }

    function startGame(type) {
        stopGame();
        document.getElementById('game-canvas-wrapper').style.display = 'block';
        score = 0; scoreEl.innerText = "0";
        nameEl.innerText = type.toUpperCase();
        if(type === 'snake') startSnake();
        if(type === 'tetris') startTetris();
        if(type === 'pacman') startPacman();
    }

    // --- 1. B√úY√úYEN YILAN ---
    let snake, food, d;
    function startSnake() {
        canvas.width = 400; canvas.height = 400;
        snake = [{x: 200, y: 200}, {x: 180, y: 200}];
        d = "RIGHT"; generateFood();
        document.addEventListener("keydown", snakeControl);
        gameInterval = setInterval(drawSnake, 100);
    }
    function generateFood() {
        food = { x: Math.floor(Math.random()*19)*20, y: Math.floor(Math.random()*19)*20 };
    }
    function snakeControl(e) {
        if(e.keyCode==37 && d!="RIGHT") d="LEFT";
        if(e.keyCode==38 && d!="DOWN") d="UP";
        if(e.keyCode==39 && d!="LEFT") d="RIGHT";
        if(e.keyCode==40 && d!="UP") d="DOWN";
    }
    function drawSnake() {
        ctx.fillStyle = "#0f172a"; ctx.fillRect(0,0,400,400);
        ctx.fillStyle = "red"; ctx.fillRect(food.x, food.y, 18, 18);
        snake.forEach((p, i) => {
            ctx.fillStyle = i==0 ? "#22c55e" : "#4ade80";
            ctx.fillRect(p.x, p.y, 18, 18);
        });
        let hX = snake[0].x, hY = snake[0].y;
        if(d=="LEFT") hX-=20; if(d=="UP") hY-=20;
        if(d=="RIGHT") hX+=20; if(d=="DOWN") hY+=20;
        
        if(hX == food.x && hY == food.y) {
            score += 10; scoreEl.innerText = score;
            generateFood(); // Burada pop() yapƒ±lmadƒ±ƒüƒ± i√ßin yƒ±lan uzar.
        } else {
            snake.pop();
        }
        let head = {x:hX, y:hY};
        if(hX<0 || hX>=400 || hY<0 || hY>=400 || snake.some(s=>s.x==hX && s.y==hY)) {
            alert("Bitti!"); stopGame();
        }
        snake.unshift(head);
    }

    // --- 2. TAM TETRƒ∞S (T√ºm Bloklar Dahil) ---
    const I = [[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]], J = [[1,0,0],[1,1,1],[0,0,0]], L = [[0,0,1],[1,1,1],[0,0,0]], O = [[1,1],[1,1]], S = [[0,1,1],[1,1,0],[0,0,0]], T = [[0,1,0],[1,1,1],[0,0,0]], Z = [[1,1,0],[0,1,1],[0,0,0]];
    const BLOCKS = [[I,"cyan"],[J,"blue"],[L,"orange"],[O,"yellow"],[S,"green"],[T,"purple"],[Z,"red"]];
    let board, activePiece;
    function startTetris() {
        canvas.width = 240; canvas.height = 400;
        board = Array.from({length: 20}, () => Array(12).fill(null));
        activePiece = createPiece();
        document.addEventListener("keydown", tetrisControl);
        gameInterval = setInterval(updateTetris, 500);
    }
    function createPiece() {
        const r = BLOCKS[Math.floor(Math.random()*BLOCKS.length)];
        return { matrix: r[0], color: r[1], x: 4, y: 0 };
    }
    function drawTetris() {
        ctx.fillStyle = "#000"; ctx.fillRect(0,0,240,400);
        board.forEach((row, y) => row.forEach((val, x) => {
            if(val) { ctx.fillStyle = val; ctx.fillRect(x*20, y*20, 19, 19); }
        }));
        ctx.fillStyle = activePiece.color;
        activePiece.matrix.forEach((row, y) => row.forEach((val, x) => {
            if(val) ctx.fillRect((activePiece.x+x)*20, (activePiece.y+y)*20, 19, 19);
        }));
    }
    function collide() {
        for(let y=0; y<activePiece.matrix.length; y++) {
            for(let x=0; x<activePiece.matrix[y].length; x++) {
                if(activePiece.matrix[y][x] && (board[activePiece.y+y] === undefined || board[activePiece.y+y][activePiece.x+x] !== null)) return true;
            }
        } return false;
    }
    function tetrisControl(e) {
        if(e.keyCode==37) { activePiece.x--; if(collide()) activePiece.x++; }
        if(e.keyCode==39) { activePiece.x++; if(collide()) activePiece.x--; }
        if(e.keyCode==40) updateTetris();
        if(e.keyCode==38) { // Rotate
            const prev = activePiece.matrix;
            activePiece.matrix = activePiece.matrix[0].map((_, i) => activePiece.matrix.map(row => row[i]).reverse());
            if(collide()) activePiece.matrix = prev;
        }
        drawTetris();
    }
    function updateTetris() {
        activePiece.y++;
        if(collide()) {
            activePiece.y--;
            activePiece.matrix.forEach((row, y) => row.forEach((val, x) => {
                if(val) board[activePiece.y+y][activePiece.x+x] = activePiece.color;
            }));
            // Satƒ±r silme
            board = board.filter(row => row.some(v => v === null));
            while(board.length < 20) { board.unshift(Array(12).fill(null)); score+=100; scoreEl.innerText = score; }
            activePiece = createPiece();
            if(collide()) { alert("Bitti!"); stopGame(); }
        }
        drawTetris();
    }

    // --- 3. GENƒ∞≈û PACMAN (Google Doodle Stili) ---
    const pMap = [
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        [1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,1],
        [1,0,1,1,1,1,0,1,0,1,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,1,0,1],
        [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,0,1],
        [1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,1],
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
    ];
    let pc, ghosts, currentMap;
    function startPacman() {
        canvas.width = 560; canvas.height = 140;
        currentMap = JSON.parse(JSON.stringify(pMap));
        pc = {x:1, y:1, dx:0, dy:0};
        ghosts = [{x:14, y:3, color:'red'}, {x:15, y:3, color:'pink'}];
        document.addEventListener("keydown", pacmanControl);
        gameInterval = setInterval(drawPacman, 150);
    }
    function pacmanControl(e) {
        if(e.keyCode==37) { pc.dx=-1; pc.dy=0; }
        if(e.keyCode==38) { pc.dx=0; pc.dy=-1; }
        if(e.keyCode==39) { pc.dx=1; pc.dy=0; }
        if(e.keyCode==40) { pc.dx=0; pc.dy=1; }
    }
    function drawPacman() {
        ctx.fillStyle = "#000"; ctx.fillRect(0,0,560,140);
        currentMap.forEach((row, y) => row.forEach((v, x) => {
            if(v==1) { ctx.fillStyle="blue"; ctx.fillRect(x*20, y*20, 19, 19); }
            if(v==0) { ctx.fillStyle="white"; ctx.beginPath(); ctx.arc(x*20+10,y*20+10,2,0,7); ctx.fill(); }
        }));
        if(currentMap[pc.y+pc.dy] && currentMap[pc.y+pc.dy][pc.x+pc.dx] !== 1) {
            pc.x += pc.dx; pc.y += pc.dy;
            if(currentMap[pc.y][pc.x] == 0) { currentMap[pc.y][pc.x]=2; score+=10; scoreEl.innerText=score; }
        }
        ctx.fillStyle="yellow"; ctx.beginPath(); ctx.arc(pc.x*20+10, pc.y*20+10, 8, 0, 7); ctx.fill();
        ghosts.forEach(g => {
            let mv = [{x:0,y:1},{x:0,y:-1},{x:1,y:0},{x:-1,y:0}].filter(m => currentMap[g.y+m.y][g.x+m.x]!==1);
            let m = mv[Math.floor(Math.random()*mv.length)];
            g.x += m.x; g.y += m.y;
            ctx.fillStyle=g.color; ctx.beginPath(); ctx.arc(g.x*20+10, g.y*20+10, 8, 0, 7); ctx.fill();
            if(g.x == pc.x && g.y == pc.y) { alert("Yakalalandƒ±n!"); stopGame(); }
        });
    }
</script>
</body>
</html>
