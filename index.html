<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esmanur Ã‡aÃ§a | Dashboard v1.7.3</title>
    <style>
        :root { 
            --primary: #2563eb; --dark: #1e293b; --light: #f8fafc; 
            --accent: #f59e0b; --bilgi-go: #ff6b6b; --arcade-bg: #2d3748; 
            --arcade-border: #4a5568; 
            --movie-bg: #800000;
        }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background-color: var(--light); color: var(--dark); overflow-x: hidden; }
        
        /* HEADER */
        header { background: var(--dark); color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { color: white; text-decoration: none; font-weight: 500; cursor: pointer; transition: 0.3s; }
        .nav-links a:hover { color: var(--accent); }
        .btn-log { background: var(--accent); border: none; padding: 5px 15px; border-radius: 4px; cursor: pointer; font-weight: bold; color: #000; }
        
        /* MAIN */
        main { padding: 2rem; max-width: 1100px; margin: auto; min-height: 80vh; }
        section { display: none; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* HERO & BIO */
        .hero { text-align: center; margin-bottom: 30px; }
        .bio-card { 
            background: white; padding: 30px; border-radius: 15px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: left; 
            border-left: 5px solid var(--accent); margin-top: 20px;
            line-height: 1.6;
        }
        .bio-card h3 { color: var(--primary); margin-top: 20px; margin-bottom: 10px; }
        .bio-card p { margin-bottom: 15px; color: #475569; }
        .highlight { color: var(--dark); font-weight: bold; font-style: italic; display: block; text-align: center; margin: 20px 0; font-size: 1.1rem; }

        /* YKS NOTLARI (GELÄ°ÅTÄ°RÄ°LDÄ°) */
        .notes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; }
        .note-card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border-top: 6px solid var(--primary); transition: 0.3s; }
        .note-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
        .note-card h3 { color: var(--primary); margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; font-size: 1.4rem; }
        .note-card ul { padding-left: 20px; font-size: 0.95rem; line-height: 1.6; color: #334155; }
        .note-card li { margin-bottom: 10px; }
        .note-card b { color: #0f172a; font-weight: 700; }

        /* FÄ°LMLER BÃ–LÃœMÃœ */
        #movies-section { background-color: var(--movie-bg); padding: 30px; border-radius: 20px; color: white; }
        #movies-section h2 { color: white; border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 15px; text-align: center; }
        .movie-search-bar { width: 100%; padding: 15px; border-radius: 30px; border: none; margin-bottom: 25px; font-size: 1rem; box-shadow: 0 4px 10px rgba(0,0,0,0.2); outline: none; box-sizing: border-box; }
        .filter-menu { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .filter-btn { background: rgba(0,0,0,0.3); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 8px 18px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .filter-btn:hover, .filter-btn.active { background: white; color: var(--movie-bg); font-weight: bold; }
        .movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .movie-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: 0.3s; color: #333; display: flex; flex-direction: column; }
        .movie-card:hover { transform: scale(1.03); }
        .movie-poster { height: 140px; background: #f1f5f9; display: flex; align-items: center; justify-content: center; font-size: 3.5rem; border-bottom: 1px solid #eee; }
        .movie-info { padding: 15px; flex-grow: 1; display: flex; flex-direction: column; }
        .movie-tag { font-size: 0.7rem; background: var(--dark); color: white; padding: 3px 6px; border-radius: 4px; font-weight: bold; width: fit-content; }
        .movie-rating { color: var(--accent); font-weight: bold; float: right; }
        .movie-desc { font-size: 0.8rem; color: #64748b; margin-top: 8px; line-height: 1.3; margin-bottom: 15px; }
        .watch-btn { display: block; width: 100%; padding: 10px; background: #e50914; color: white; text-align: center; text-decoration: none; font-weight: bold; border: none; margin-top: auto; cursor: pointer; transition: 0.2s; box-sizing: border-box; }
        .watch-btn:hover { background: #b20710; }

        /* OYUN ALANI */
        .game-container { display: none; text-align: center; background: var(--arcade-bg); padding: 25px; border: 12px solid var(--arcade-border); border-radius: 20px; color: white; position: relative;}
        .game-menu { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; }
        .game-card { cursor: pointer; background: white; color: var(--dark); padding: 12px; border-radius: 10px; font-weight: bold; width: 100px; transition: 0.2s; display: flex; flex-direction: column; align-items: center; gap: 5px;}
        .game-card:hover { transform: scale(1.05); background: var(--accent); }
        canvas { background: #000; border: 4px solid #3182ce; max-width: 100%; display: block; margin: 0 auto; }
        .mobile-controls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 180px; margin: 20px auto; }
        .control-btn { width: 55px; height: 55px; background: #4a5568; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; cursor: pointer; user-select: none; }
        #start-btn { padding:10px 30px; background:var(--accent); border:none; border-radius:5px; cursor:pointer; font-weight:bold; margin-top:10px; }
        /* AteÅŸ ve Su iÃ§in Ã¶zel stil */
        .firewater-bg { background: radial-gradient(circle at center, #4c1d95 0%, #1e1e2f 100%); border-color: #8b5cf6; }
        #fw-start-btn { position: absolute; top: 50px; left: 50px; width: 400px; height: 400px; background: rgba(0,0,0,0.7); color: var(--accent); font-size: 2rem; font-weight: bold; border: none; cursor: pointer; display: none; z-index: 10; }

        /* BILGI GO ASISTAN */
        #bilgi-go-container { position: fixed; bottom: 20px; right: 20px; width: 320px; background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); z-index: 2000; border: 2px solid var(--bilgi-go); overflow: hidden; display: flex; flex-direction: column; }
        .bg-header { background: var(--bilgi-go); color: white; padding: 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
        #bg-chat { height: 250px; overflow-y: auto; padding: 12px; background: #fff5f5; font-size: 0.85rem; display: flex; flex-direction: column; }
        .bg-msg { margin-bottom: 8px; padding: 8px 12px; border-radius: 12px; max-width: 85%; word-wrap: break-word; }
        .bg-bot { background: white; align-self: flex-start; border: 1px solid #eee; color: #333; }
        .bg-user { background: var(--bilgi-go); color: white; align-self: flex-end; }
        .bg-input-area { display: flex; padding: 10px; border-top: 1px solid #eee; background: white; }
        #bg-input { flex: 1; border: 1px solid #ddd; border-radius: 20px; padding: 8px 12px; outline: none; }
        .bg-send-btn { background: none; border: none; cursor: pointer; color: var(--bilgi-go); font-size: 1.2rem; margin-left: 5px; }

        /* MODAL */
        #logModal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 2rem; box-shadow: 0 0 30px rgba(0,0,0,0.5); z-index: 3000; width: 85%; max-height: 80vh; overflow-y: auto; border-radius: 12px; }
    </style>
</head>
<body>

<header>
    <div><strong>Esmanur Ã‡aÃ§a</strong></div>
    <nav class="nav-links">
        <a onclick="showSection('home')">GiriÅŸ</a>
        <a onclick="showSection('notes')">Notlar</a>
        <a onclick="showSection('movies')">Filmler</a>
        <a onclick="showSection('games')">Oyunlar</a>
    </nav>
    <div><span style="margin-right:10px; font-size:0.8rem; opacity:0.7;">v1.7.3</span><button class="btn-log" onclick="toggleLogs()">GÃ¼nlÃ¼kler</button></div>
</header>

<main>
    <section id="home-section" style="display:block;">
        <div class="hero">
            <h1>ğŸ‘‹ Merhaba, ben Esmanur</h1>
            <div class="bio-card">
                <h2 style="text-align:center; color:var(--dark);">ğŸŒŸ Ben Kimim?</h2>
                <h3>ğŸ”¬ Bir YanÄ±m Bilim Ä°nsanÄ±, DiÄŸer YanÄ±m SanatÃ§Ä±!</h3>
                <p>Sadece ders Ã§alÄ±ÅŸmakla kalmÄ±yor, bilginin en derinine iniyorum ğŸ“š. YKS maratonunda TÃ¼rkÃ§e'den Fizik'e, Edebiyat'tan Biyoloji'ye kadar her alanda "hap bilgiler" peÅŸinde koÅŸmam, aslÄ±nda ne kadar stratejik ve zeki bir Ã§alÄ±ÅŸma tarzÄ±m olduÄŸunu gÃ¶steriyor ğŸ“. Ama beni asÄ±l Ã¶zel kÄ±lan, felsefe ile bilim arasÄ±ndaki baÄŸÄ± sorgulayan o derin dÃ¼ÅŸÃ¼nce yapÄ±m ğŸŒˆ.</p>
                <h3>ğŸ’» KodlarÄ±n Efendisi ve Retro Ruhu</h3>
                <p>YÄ±lan, Tetris ve Pacman gibi retro oyunlarÄ± modernize etmeye Ã§alÄ±ÅŸmam, hem nostaljiye deÄŸer veren hem de Ã¼retken bir yÃ¶nÃ¼m olduÄŸunu kanÄ±tlÄ±yor ğŸ®ğŸ‘¾. Bir ÅŸey bozulduÄŸunda pes etmek yerine "dene â†’ boz â†’ dÃ¼zelt" dÃ¶ngÃ¼sÃ¼nde kalarak, inanÄ±lmaz bir sabÄ±r ve azim gÃ¶steriyorum ğŸ¬. Ben pes etmeyi deÄŸil, Ã§Ã¶zmeyi seviyorum! ğŸ› ï¸ğŸ’–</p>
                <h3>ğŸ§ª MeraklÄ± Bir MÃ¼hendis AklÄ±</h3>
                <p>Benzin inceltme veya solventler gibi kimyasal detaylara girerek, dÃ¼nyayÄ± atomlarÄ±na kadar merak ediyorum ğŸ§ªâœ¨. SÄ±radan bir kullanÄ±cÄ± "bu nedir?" derken, ben "nasÄ±l Ã§alÄ±ÅŸÄ±r?" diye soruyorum.</p>
                <span class="highlight">"Hem sÄ±nav stresiyle baÅŸa Ã§Ä±kan bir Ã¶ÄŸrenci, hem dÃ¼nyayÄ± anlamaya Ã§alÄ±ÅŸan bir filozof, hem de kodlarÄ±n arasÄ±nda kendi dÃ¼nyasÄ±nÄ± kuran bir yazÄ±lÄ±mcÄ±yÄ±m." ğŸ€ğŸ­</span>
            </div>
        </div>
    </section>

    <section id="notes-section">
        <h2 style="text-align:center;">ğŸ“š YKS Tam KapsamlÄ± Not ArÅŸivi</h2>
        <div class="notes-grid" id="notes-container"></div>
    </section>

    <section id="movies-section">
        <h2 style="text-align: center;">ğŸ¬ FullHD Film Ä°zlesene ArÅŸivi</h2>
        <input type="text" id="movie-search" class="movie-search-bar" placeholder="Film ara (Ã–rn: Inception, Avatar)..." onkeyup="searchMovies()">

        <div class="filter-menu">
            <button class="filter-btn active" onclick="filterMovies('all')">Hepsi</button>
            <button class="filter-btn" onclick="filterMovies('bilim-kurgu')">Bilim Kurgu</button>
            <button class="filter-btn" onclick="filterMovies('aksiyon')">Aksiyon</button>
            <button class="filter-btn" onclick="filterMovies('dram')">Dram</button>
            <button class="filter-btn" onclick="filterMovies('korku')">Korku</button>
            <button class="filter-btn" onclick="filterMovies('animasyon')">Animasyon</button>
        </div>
        <div class="movie-grid" id="movie-container"></div>
    </section>

    <section id="games-section">
        <h2 style="text-align:center;">Oyun Salonu (v1.7.3)</h2>
        <div class="game-menu">
            <div class="game-card" onclick="prepareGame('snake')">ğŸ YÄ±lan</div>
            <div class="game-card" onclick="prepareGame('pacman')">ğŸ‘» Pacman</div>
            <div class="game-card" onclick="prepareGame('tetris')">ğŸ§± Tetris</div>
            <div class="game-card" onclick="prepareGame('firewater')">ğŸ”¥ğŸ’§ AteÅŸ&Su</div>
        </div>
        <div id="game-canvas-wrapper" class="game-container">
            <h3 id="game-title">Oyun SeÃ§iniz</h3>
            <canvas id="gameCanvas" width="400" height="400"></canvas>
            <button id="fw-start-btn" onclick="runGame()">BAÅLAT</button>
            <div class="mobile-controls" id="mob-ctrl">
                <div style="grid-column:2" class="control-btn" onclick="handleKey(38)">â†‘</div>
                <div style="grid-column:1" class="control-btn" onclick="handleKey(37)">â†</div>
                <div style="grid-column:2" class="control-btn" onclick="handleKey(40)">â†“</div>
                <div style="grid-column:3" class="control-btn" onclick="handleKey(39)">â†’</div>
            </div>
            <button id="start-btn" onclick="runGame()">BAÅLAT</button>
        </div>
    </section>
</main>

<div id="bilgi-go-container">
    <div class="bg-header">
        <span>ğŸ¤– Bilgi Go</span>
        <span style="cursor:pointer;" onclick="toggleChat()">_</span>
    </div>
    <div id="bg-chat">
        <div class="bg-msg bg-bot">Selam Esmanur! AteÅŸ ve Su oyunu baÅŸtan aÅŸaÄŸÄ± yenilendi. Parkur, zÄ±plama, 5 dakika sÃ¼re ve o mor yapay zeka temasÄ±... Hepsi emrinde! DiÄŸer her ÅŸey de yerli yerinde. ğŸš€</div>
    </div>
    <div class="bg-input-area">
        <input type="text" id="bg-input" placeholder="Ders sor (Ã–rn: TÃ¼rev, Lozan)..." onkeypress="if(event.key==='Enter') sendMessage()">
        <button class="bg-send-btn" onclick="sendMessage()">â¤</button>
    </div>
</div>

<div id="logModal">
    <span onclick="toggleLogs()" style="float:right; cursor:pointer; color:red; font-weight:bold;">Kapat X</span>
    <h2>ğŸ“œ GÃ¼nlÃ¼kler</h2>
    <p><strong>v1.7.3:</strong> AteÅŸ ve Su oyunu tamamen yenilendi. Parkur modu, zÄ±plama, karakter Ã§arpÄ±ÅŸmasÄ±, lav/su tuzaklarÄ± ve 5 dakikalÄ±k sÃ¼re eklendi. GÃ¶rsel tema mor ve yapay zeka odaklÄ± yapÄ±ldÄ±. BaÅŸlat butonu bÃ¼yÃ¼tÃ¼ldÃ¼. DiÄŸer tÃ¼m modÃ¼ller korundu.</p>
    <p><strong>v1.7.2:</strong> YKS NotlarÄ± detaylandÄ±rÄ±ldÄ±.</p>
</div>

<script>
    // --- 1. YKS VERÄ°TABANI (KORUNDU) ---
    const YKS_DATA = [
        { subject: "TÃ¼rkÃ§e", color: "#2563eb", topics: ["<b>YazÄ±m KurallarÄ±:</b> 'Åey' her zaman ayrÄ± (her ÅŸey). Kurum isimlerine gelen ekler ayrÄ±lmaz (TDKye deÄŸil TDK'ye).", "<b>Noktalama:</b> VirgÃ¼l, Ã¶zneyi ayÄ±rÄ±r. SÄ±ralÄ± cÃ¼mleleri ayÄ±rÄ±r. NoktalÄ± virgÃ¼l ise 'tÃ¼r ve takÄ±mlarÄ±' ayÄ±rÄ±r.", "<b>Paragraf Taktikleri:</b> Ã–nce soru kÃ¶kÃ¼nÃ¼ oku, sonra metni. 'DeÄŸinilmemiÅŸtir' sorularÄ±nda ÅŸÄ±klardan git.", "<b>Ses Bilgisi:</b> ÃœnsÃ¼z benzeÅŸmesi (FÄ±stÄ±kÃ§Ä± Åahap -> kitap-Ã§Ä±). ÃœnlÃ¼ daralmasÄ± (bekle-yor -> bekliyor)."] },
        { subject: "Matematik", color: "#ef4444", topics: ["<b>Temel Kavramlar:</b> Asal sayÄ±lar 2'den baÅŸlar. 1 asal deÄŸildir. (a+b)Â² = aÂ² + 2ab + bÂ².", "<b>Fonksiyonlar:</b> Birebir (her x farklÄ± y'ye), Ã–rten (boÅŸta y kalmaz). f(x) = y ise fâ»Â¹(y) = x.", "<b>TÃ¼rev:</b> Bir fonksiyonun bir noktadaki tÃ¼revi, o noktadaki teÄŸetin eÄŸimidir. (xâ¿)' = n.xâ¿â»Â¹.", "<b>Ä°ntegral:</b> EÄŸri altÄ±nda kalan alandÄ±r. âˆ«xâ¿ dx = (xâ¿âºÂ¹)/(n+1) + c."] },
        { subject: "Fizik", color: "#8b5cf6", topics: ["<b>Kuvvet & Hareket:</b> F = m.a (Newton'un 2. YasasÄ±). Etki = Tepki.", "<b>Enerji:</b> Kinetik (1/2mvÂ²), Potansiyel (mgh). Enerji yok olmaz, dÃ¶nÃ¼ÅŸÃ¼r.", "<b>Elektrik:</b> V = I.R (Ohm YasasÄ±). Seri devrede akÄ±m, paralel devrede voltaj eÅŸittir.", "<b>Optik:</b> Ã‡ukur ayna (OdaklayÄ±cÄ±, Dev gÃ¶rÃ¼ntÃ¼), TÃ¼msek ayna (DaÄŸÄ±tÄ±cÄ±, KÃ¼Ã§Ã¼k gÃ¶rÃ¼ntÃ¼)."] },
        { subject: "Kimya", color: "#10b981", topics: ["<b>Atom:</b> Proton (+), NÃ¶tron (0), Elektron (-). Ä°zotop: Proton aynÄ±, nÃ¶tron farklÄ±.", "<b>Periyodik Cetvel:</b> 1A (Alkali), 2A (Toprak Alkali), 7A (Halojen), 8A (Soygaz).", "<b>Mol KavramÄ±:</b> 1 mol = 6,02x10Â²Â³ tanecik (Avogadro SayÄ±sÄ±). n = m/MA.", "<b>Organik:</b> Karbon 4 baÄŸ yapar. Alkan (Tek), Alken (Ã‡ift), Alkin (ÃœÃ§lÃ¼ baÄŸ)."] },
        { subject: "Biyoloji", color: "#ec4899", topics: ["<b>HÃ¼cre:</b> Ribozom (Protein), Mitokondri (ATP), Kloroplast (Fotosentez), Lizozom (Sindirim).", "<b>DNA & RNA:</b> Adenin=Timin, Guanin=Sitozin. RNA'da Timin yerine Urasil vardÄ±r.", "<b>Sistemler:</b> Ä°nce baÄŸÄ±rsakta emilim villuslar ile olur. Alveollerde gaz deÄŸiÅŸimi olur.", "<b>KalÄ±tÄ±m:</b> Mendel kanunlarÄ±. Kan gruplarÄ± (A, B, AB, 0). AB genel alÄ±cÄ±, 0 genel verici."] },
        { subject: "Edebiyat", color: "#f97316", topics: ["<b>Divan EdebiyatÄ±:</b> Aruz Ã¶lÃ§Ã¼sÃ¼, aÄŸÄ±r dil. Fuzuli (AÅŸk/IzdÄ±rap), Baki (Zevk/EÄŸlence).", "<b>Halk EdebiyatÄ±:</b> Hece Ã¶lÃ§Ã¼sÃ¼, sade dil. KaracaoÄŸlan, Yunus Emre.", "<b>Tanzimat:</b> I. DÃ¶nem 'Toplum iÃ§in sanat', II. DÃ¶nem 'Sanat sanat iÃ§indir'.", "<b>Cumhuriyet:</b> GaripÃ§iler (Kural tanÄ±mazlar: Orhan Veli). Ä°kinci Yeni (Soyut ÅŸiir: Cemal SÃ¼reya)."] },
        { subject: "Tarih/CoÄŸrafya", color: "#6366f1", topics: ["<b>Tarih:</b> Malazgirt (1071) Anadolu'nun kapÄ±larÄ± aÃ§Ä±ldÄ±. Lozan (1923) TÃ¼rkiye'nin tapusu.", "<b>Ä°lkeler:</b> CumhuriyetÃ§ilik (SeÃ§im), Laiklik (Din/Devlet ayrÄ±mÄ±), DevletÃ§ilik (Ekonomi).", "<b>CoÄŸrafya:</b> Ekvator (En sÄ±cak deÄŸil, nemli). Enlem etkisi (Kutuplara gidildikÃ§e sÄ±caklÄ±k dÃ¼ÅŸer)."] }
    ];
    const movieData = [{ title: "Interstellar", cat: "bilim-kurgu", icon: "ğŸš€", score: "8.8" },{ title: "Inception", cat: "bilim-kurgu", icon: "ğŸŒ€", score: "8.8" },{ title: "Dune: Part Two", cat: "bilim-kurgu", icon: "ğŸœï¸", score: "9.0" },{ title: "Avatar 2", cat: "bilim-kurgu", icon: "ğŸ’™", score: "7.8" },{ title: "The Dark Knight", cat: "aksiyon", icon: "ğŸ¦‡", score: "9.0" },{ title: "Avengers: Endgame", cat: "aksiyon", icon: "ğŸ›¡ï¸", score: "8.4" },{ title: "The Truman Show", cat: "dram", icon: "ğŸ“º", score: "8.2" },{ title: "The Shawshank Redemption", cat: "dram", icon: "â›“ï¸", score: "9.3" },{ title: "Spider-Man: Spider-Verse", cat: "animasyon", icon: "ğŸ•·ï¸", score: "8.4" },{ title: "The Lion King", cat: "animasyon", icon: "ğŸ¦", score: "8.5" },{ title: "It", cat: "korku", icon: "ğŸˆ", score: "7.3" },{ title: "The Conjuring", cat: "korku", icon: "ğŸ‘»", score: "7.5" }];

    // --- 2. TEMEL FONKSÄ°YONLAR (KORUNDU) ---
    document.addEventListener("DOMContentLoaded", function() { renderNotes(); displayMovies('all'); });
    function showSection(id) { document.querySelectorAll('main > section').forEach(s => s.style.display = 'none'); document.getElementById(id + '-section').style.display = 'block'; if(id === 'movies') displayMovies('all'); stopGame(); }
    function toggleLogs() { const m = document.getElementById('logModal'); m.style.display = (m.style.display === 'block') ? 'none' : 'block'; }
    function renderNotes() { const c = document.getElementById('notes-container'); c.innerHTML = ''; YKS_DATA.forEach(i => { let l = i.topics.map(t => `<li>${t}</li>`).join(''); c.innerHTML += `<div class="note-card" style="border-top-color: ${i.color}"><h3>${i.subject}</h3><ul>${l}</ul></div>`; }); }
    function displayMovies(filter) { const container = document.getElementById('movie-container'); container.innerHTML = ''; const searchVal = document.getElementById('movie-search').value.toLowerCase(); let filtered = filter === 'all' ? movieData : movieData.filter(m => m.cat === filter); if(searchVal) filtered = movieData.filter(m => m.title.toLowerCase().includes(searchVal)); filtered.forEach(m => { const watchLink = `https://www.fullhdfilmizlesene.tv/ara/${encodeURIComponent(m.title)}/`; container.innerHTML += `<div class="movie-card"><div class="movie-poster">${m.icon}</div><div class="movie-info"><span class="movie-tag">${m.cat.toUpperCase()}</span><span class="movie-rating">â˜… ${m.score}</span><h3>${m.title}</h3><a href="${watchLink}" target="_blank" class="watch-btn">â–¶ Ä°ZLE</a></div></div>`; }); }
    function searchMovies() { displayMovies('all'); }
    function filterMovies(cat) { displayMovies(cat); }
    function sendMessage() { const input = document.getElementById('bg-input'); const text = input.value.trim().toLocaleLowerCase('tr'); if(!text) return; addMsg(input.value, 'user'); input.value = ''; if(text.includes('motivasyon') || text.includes('sÄ±kÄ±ldÄ±m')) { setTimeout(() => addMsg("Sen mÃ¼hendis kafalÄ± bir sanatÃ§Ä±sÄ±n Esmanur, bu konular senin iÃ§in Ã§ocuk oyuncaÄŸÄ±! ğŸš€", 'bot'), 500); return; } let found = []; YKS_DATA.forEach(course => { course.topics.forEach(topic => { if(topic.toLocaleLowerCase('tr').includes(text)) { found.push(`<b>${course.subject}:</b> ${topic}`); } }); }); setTimeout(() => { if(found.length > 0) addMsg(`Bunu senin iÃ§in buldum: <br><br> ${found.slice(0,3).join('<br><br>')}`, 'bot'); else addMsg("NotlarÄ±nda bulamadÄ±m ama sen yaparsÄ±n! ğŸ˜‰", 'bot'); }, 600); }
    function addMsg(t, s) { const d=document.createElement('div'); d.className=`bg-msg bg-${s}`; d.innerHTML=t; document.getElementById('bg-chat').appendChild(d); }
    function toggleChat() { const c=document.getElementById('bg-chat'); c.style.display = c.style.display==='none'?'flex':'none'; }

    // --- 3. OYUN MOTORU (v1.7.3 - ATEÅ VE SU EKLENDÄ°) ---
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const startBtn = document.getElementById('start-btn');
    const fwStartBtn = document.getElementById('fw-start-btn');
    const mobCtrl = document.getElementById('mob-ctrl');
    const gameContainer = document.getElementById('game-canvas-wrapper');
    let gameInterval = null, selectedGame = null;

    function handleKey(k) { document.dispatchEvent(new KeyboardEvent('keydown', { 'keyCode': k })); }
    function stopGame() { clearInterval(gameInterval); gameContainer.style.display = 'none'; startBtn.style.display = 'none'; fwStartBtn.style.display = 'none'; mobCtrl.style.display='grid'; gameContainer.classList.remove('firewater-bg'); }
    function prepareGame(type) {
        stopGame(); selectedGame = type;
        gameContainer.style.display = 'block';
        document.getElementById('game-title').innerText = type.toUpperCase();
        ctx.fillStyle = "#000"; ctx.fillRect(0,0,400,400);
        if(type === 'firewater') {
            gameContainer.classList.add('firewater-bg');
            fwStartBtn.style.display = 'block';
            mobCtrl.style.display = 'none';
            ctx.fillStyle = "white"; ctx.font="16px Arial"; ctx.textAlign="center"; ctx.fillText("ATEÅ: Ok TuÅŸlarÄ± | SU: W,A,D", 200, 180); ctx.fillText("Birbirinize ve yanlÄ±ÅŸ elemente deÄŸmeyin!", 200, 210); ctx.fillText("KapÄ±lara ulaÅŸÄ±n. SÃ¼re: 5 Dk.", 200, 240);
        } else {
            startBtn.style.display = 'inline-block';
        }
    }
    function runGame() { startBtn.style.display = 'none'; fwStartBtn.style.display = 'none'; if(selectedGame === 'snake') startSnake(); if(selectedGame === 'pacman') initPacman(); if(selectedGame === 'tetris') startTetris(); if(selectedGame === 'firewater') startFireWater(); }

    // --- ESKÄ° OYUNLAR (KORUNDU) ---
    let snake, food, d, score;
    function startSnake() { snake = [{x: 180, y: 200}]; food = {x: 100, y: 100}; d = null; score = 0; document.addEventListener("keydown", (e) => { if(e.keyCode==37&&d!="RIGHT")d="LEFT"; else if(e.keyCode==38&&d!="DOWN")d="UP"; else if(e.keyCode==39&&d!="LEFT")d="RIGHT"; else if(e.keyCode==40&&d!="UP")d="DOWN"; }); gameInterval = setInterval(() => { ctx.fillStyle = "#1e293b"; ctx.fillRect(0,0,400,400); for(let i=0; i<snake.length; i++) { ctx.fillStyle = i==0 ? "#4ade80" : "#22c55e"; ctx.beginPath(); ctx.arc(snake[i].x+10, snake[i].y+10, 9, 0, 6.28); ctx.fill(); } ctx.fillStyle = "red"; ctx.fillText("ğŸ", food.x-2, food.y+18); let nX = snake[0].x, nY = snake[0].y; if(d=="LEFT") nX-=20; if(d=="UP") nY-=20; if(d=="RIGHT") nX+=20; if(d=="DOWN") nY+=20; if(nX==food.x && nY==food.y) { score++; food={x:Math.floor(Math.random()*19)*20, y:Math.floor(Math.random()*19)*20}; } else snake.pop(); if(nX<0||nX>=400||nY<0||nY>=400||snake.some(s=>s.x==nX&&s.y==nY)) { clearInterval(gameInterval); alert("Skor: "+score); prepareGame('snake'); } snake.unshift({x:nX, y:nY}); }, 100); }
    function initPacman() { let px=200, py=200, enemy={x:20,y:20}, pScore=0; document.addEventListener("keydown", (e)=>{ if(e.keyCode==37)px-=20; if(e.keyCode==38)py-=20; if(e.keyCode==39)px+=20; if(e.keyCode==40)py+=20; }); gameInterval = setInterval(()=>{ ctx.fillStyle="#000"; ctx.fillRect(0,0,400,400); ctx.fillStyle="yellow"; ctx.beginPath(); ctx.arc(px,py,10,0.2*Math.PI,1.8*Math.PI); ctx.lineTo(px,py); ctx.fill(); if(px<enemy.x)enemy.x-=2; else enemy.x+=2; if(py<enemy.y)enemy.y-=2; else enemy.y+=2; ctx.fillStyle="red"; ctx.beginPath(); ctx.arc(enemy.x,enemy.y,10,0,Math.PI*2); ctx.fill(); pScore++; ctx.fillStyle="white"; ctx.fillText("KaÃ§Ä±ÅŸ: "+pScore, 10,20); if(Math.abs(px-enemy.x)<15 && Math.abs(py-enemy.y)<15) { clearInterval(gameInterval); alert("YAKALANDIN! Skor: "+pScore); prepareGame('pacman'); } }, 100); }
    const SHAPES = [[[1,1,1,1]],[[1,1,1],[0,1,0]],[[1,1,1],[1,0,0]],[[1,1,1],[0,0,1]],[[1,1],[1,1]],[[1,1,0],[0,1,1]],[[0,1,1],[1,1,0]]]; const COLORS = [null, '#00f0f0', '#a000f0', '#f0a000', '#0000f0', '#f0f000', '#f00000', '#00f000'];
    function startTetris() { const ROW=20, COL=10, SQ=20; let board=Array.from({length:ROW},()=>Array(COL).fill(0)); let piece=randomPiece(); function randomPiece(){let r=Math.floor(Math.random()*SHAPES.length);return{shape:SHAPES[r],color:COLORS[r+1],x:3,y:0};} function drawSquare(x,y,color){ctx.fillStyle=color;ctx.fillRect(x*SQ,y*SQ,SQ,SQ);ctx.strokeStyle="#333";ctx.strokeRect(x*SQ,y*SQ,SQ,SQ);} function draw(){ctx.fillStyle="#1e293b";ctx.fillRect(0,0,400,400);for(let r=0;r<ROW;r++)for(let c=0;c<COL;c++)if(board[r][c])drawSquare(c+5,r,board[r][c]);piece.shape.forEach((row,r)=>{row.forEach((val,c)=>{if(val)drawSquare(piece.x+c+5,piece.y+r,piece.color);});});} function collision(nx,ny,nShape){for(let r=0;r<nShape.length;r++)for(let c=0;c<nShape[r].length;c++){if(!nShape[r][c])continue;let newX=nx+c;let newY=ny+r;if(newX<0||newX>=COL||newY>=ROW)return true;if(newY>=0&&board[newY][newX])return true;}return false;} function lock(){piece.shape.forEach((row,r)=>{row.forEach((val,c)=>{if(val)board[piece.y+r][piece.x+c]=piece.color;});});for(let r=0;r<ROW;r++)if(board[r].every(x=>x)){board.splice(r,1);board.unshift(Array(COL).fill(0));}piece=randomPiece();if(collision(piece.x,piece.y,piece.shape)){clearInterval(gameInterval);alert("Oyun Bitti!");prepareGame('tetris');}} document.addEventListener("keydown",e=>{if(selectedGame!=='tetris')return;if(e.keyCode==37&&!collision(piece.x-1,piece.y,piece.shape))piece.x--;else if(e.keyCode==39&&!collision(piece.x+1,piece.y,piece.shape))piece.x++;else if(e.keyCode==40&&!collision(piece.x,piece.y+1,piece.shape))piece.y++;else if(e.keyCode==38){let rotated=piece.shape[0].map((_,i)=>piece.shape.map(row=>row[i]).reverse());if(!collision(piece.x,piece.y,rotated))piece.shape=rotated;}draw();}); gameInterval=setInterval(()=>{if(!collision(piece.x,piece.y+1,piece.shape))piece.y++;else lock();draw();},500); }

    // --- YENÄ° OYUN: ATEÅ VE SU (PARKUR MODU) ---
    function startFireWater() {
        const TILE = 20;
        // Harita: 1:Duvar, 0:BoÅŸ, 2:AteÅŸ KapÄ±, 3:Su KapÄ±, 4:Lav, 5:Su Birikintisi
        const map = [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,0,0,1,0,0,0,0,0,1,2,3,1,0,0,0,1],
            [1,0,1,1,1,0,1,0,1,1,1,0,1,0,0,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1],
            [1,1,1,1,1,0,1,1,1,4,4,4,1,1,1,0,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,5,5,5,0,0,0,0,0,0,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ];
        // Karakterler
        let boy = { x: 1.5*TILE, y: 7*TILE, w: 15, h: 20, color: 'red', symbol: 'ğŸ”¥', dx:0, dy:0, jumping:false, onGround:false, keyL:37, keyR:39, keyJ:38 };
        let girl = { x: 3.5*TILE, y: 7*TILE, w: 15, h: 20, color: 'blue', symbol: 'ğŸ’§', dx:0, dy:0, jumping:false, onGround:false, keyL:65, keyR:68, keyJ:87 }; // A,D,W
        let keys = {};
        let timeLeft = 300; // 5 dakika

        document.addEventListener('keydown', e => keys[e.keyCode] = true);
        document.addEventListener('keyup', e => keys[e.keyCode] = false);

        function update(char) {
            if (keys[char.keyL]) char.dx = -3; else if (keys[char.keyR]) char.dx = 3; else char.dx = 0;
            if (keys[char.keyJ] && char.onGround) { char.dy = -7; char.onGround = false; }
            char.dy += 0.5; // YerÃ§ekimi
            char.x += char.dx; checkCollision(char, 'x');
            char.y += char.dy; char.onGround = false; checkCollision(char, 'y');
        }

        function checkCollision(char, axis) {
            let r_start = Math.floor(char.y / TILE), r_end = Math.floor((char.y + char.h) / TILE);
            let c_start = Math.floor(char.x / TILE), c_end = Math.floor((char.x + char.w) / TILE);
            for (let r = r_start; r <= r_end; r++) {
                for (let c = c_start; c <= c_end; c++) {
                    if (!map[r] || map[r][c] === 1) { // Duvar
                        if (axis === 'x') {
                            if (char.dx > 0) char.x = c * TILE - char.w - 0.1;
                            else if (char.dx < 0) char.x = (c + 1) * TILE + 0.1;
                        } else {
                            if (char.dy > 0) { char.y = r * TILE - char.h - 0.1; char.onGround = true; char.dy = 0; }
                            else if (char.dy < 0) { char.y = (r + 1) * TILE + 0.1; char.dy = 0; }
                        }
                    } else if (map[r][c] === 4 && char.symbol === 'ğŸ’§') resetGame("Su KÄ±z lavda yandÄ±!");
                    else if (map[r][c] === 5 && char.symbol === 'ğŸ”¥') resetGame("AteÅŸ Ã‡ocuk suda sÃ¶ndÃ¼!");
                }
            }
        }

        function resetGame(msg) { clearInterval(gameInterval); alert(msg); prepareGame('firewater'); }

        gameInterval = setInterval(() => {
            if (selectedGame !== 'firewater') return;
            update(boy); update(girl);
            
            // Karakter Ã‡arpÄ±ÅŸmasÄ±
            if (boy.x < girl.x + girl.w && boy.x + boy.w > girl.x && boy.y < girl.y + girl.h && boy.y + boy.h > girl.y) resetGame("Karakterler Ã§arpÄ±ÅŸtÄ±!");
            
            // SÃ¼re
            timeLeft -= 0.05; if(timeLeft <= 0) resetGame("SÃ¼re doldu!");

            // Ã‡izim
            ctx.clearRect(0, 0, 400, 400);
            // Harita
            for(let r=0; r<map.length; r++) for(let c=0; c<map[0].length; c++) {
                if(map[r][c]===1) ctx.fillStyle="#333"; else if(map[r][c]===4) ctx.fillStyle="orange"; else if(map[r][c]===5) ctx.fillStyle="cyan"; else continue;
                ctx.fillRect(c*TILE, r*TILE, TILE, TILE);
            }
            // KapÄ±lar
            ctx.fillStyle="red"; ctx.fillRect(13*TILE, 1*TILE, TILE, TILE); ctx.fillText("ğŸ”¥", 13*TILE, 1.8*TILE);
            ctx.fillStyle="blue"; ctx.fillRect(14*TILE, 1*TILE, TILE, TILE); ctx.fillText("ğŸ’§", 14*TILE, 1.8*TILE);
            // Karakterler
            [boy, girl].forEach(c => { ctx.fillStyle = c.color; ctx.fillRect(c.x, c.y, c.w, c.h); ctx.fillStyle = "white"; ctx.fillText(c.symbol, c.x, c.y+15); });
            // UI
            ctx.fillStyle = "white"; ctx.font = "14px Arial"; ctx.fillText("SÃ¼re: " + Math.floor(timeLeft), 10, 20);
            
            // Kazanma KontrolÃ¼ (Basit: KapÄ± karesine girmek)
            let bC = Math.floor((boy.x+boy.w/2)/TILE), bR = Math.floor((boy.y+boy.h/2)/TILE);
            let gC = Math.floor((girl.x+girl.w/2)/TILE), gR = Math.floor((girl.y+girl.h/2)/TILE);
            if(map[bR][bC] === 2 && map[gR][gC] === 3) { clearInterval(gameInterval); alert("Tebrikler! BÃ¶lÃ¼m GeÃ§ildi."); prepareGame('firewater'); }

        }, 50);
    }
</script>
</body>
</html>
