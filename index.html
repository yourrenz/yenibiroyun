<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Arcade Oyun D√ºnyasƒ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0f172a;
  --panel:#020617;
  --neon:#22d3ee;
  --text:#e5e7eb;
}
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:var(--bg);
  color:var(--text);
}
header{
  background:#020617;
  padding:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
nav a{
  margin:0 10px;
  cursor:pointer;
  color:var(--neon);
  text-decoration:none;
}
main{padding:20px;}
canvas{
  background:black;
  border:4px solid var(--neon);
  margin:auto;
  display:block;
}
.game-container{text-align:center;}
.scorebar{
  display:flex;
  justify-content:space-around;
  margin:10px 0;
  font-weight:bold;
}
.mobile-controls{
  display:none;
  justify-content:center;
  gap:10px;
  margin-top:10px;
}
.mobile-controls button{
  font-size:24px;
  padding:10px 15px;
}
@media(max-width:768px){
  .mobile-controls{display:flex;}
}
</style>
</head>

<body>

<header>
  <b>üéÆ Arcade Oyun D√ºnyasƒ±</b>
  <nav>
    <a onclick="show('home')">Ana Sayfa</a>
    <a onclick="show('games')">Oyunlar</a>
  </nav>
</header>

<main>

<section id="home">
<h2>Ho≈ü Geldin üëã</h2>
<p>Pacman ‚Ä¢ Snake ‚Ä¢ Tetris</p>
</section>

<section id="games" style="display:none">
<div class="game-container">
<h2 id="title">Pacman</h2>

<div class="scorebar">
<div>Skor: <span id="score">0</span></div>
<div>Rekor: <span id="best">0</span></div>
<div>‚ù§Ô∏è <span id="lives">3</span></div>
</div>

<canvas id="game" width="420" height="420"></canvas>

<div class="mobile-controls">
<button onclick="move(0,-1)">‚¨ÜÔ∏è</button>
<button onclick="move(-1,0)">‚¨ÖÔ∏è</button>
<button onclick="move(1,0)">‚û°Ô∏è</button>
<button onclick="move(0,1)">‚¨áÔ∏è</button>
</div>
</div>
</section>

</main>

<script>
/* --- SAYFA --- */
function show(id){
 document.querySelectorAll("section").forEach(s=>s.style.display="none");
 document.getElementById(id).style.display="block";
}

/* --- CHANGELOG --- */
function addLog(v,t){
 let logs=JSON.parse(localStorage.getItem("logs"))||[];
 logs.unshift({d:new Date().toLocaleDateString("tr-TR"),v,t});
 localStorage.setItem("logs",JSON.stringify(logs));
}
addLog("1.2.0","Pacman can, skor, rekor, mobil kontrol ve AI eklendi");

/* --- PACMAN --- */
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
const tile=20;

let map=[
"1111111111111111111",
"1000000000100000001",
"1011110110101111101",
"1000000000000000001",
"1011110101110101111",
"1000000100000100001",
"1111110111110101111",
"1000000000000000001",
"1011111110111111101",
"1000000000100000001",
"1111111111111111111"
];

let pac={x:1,y:1,dx:0,dy:0};
let ghost={x:9,y:5};
let score=0;
let lives=3;
let best=localStorage.getItem("pacbest")||0;

document.getElementById("best").innerText=best;

function draw(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 for(let y=0;y<map.length;y++){
  for(let x=0;x<map[y].length;x++){
   if(map[y][x]=="1"){
    ctx.fillStyle="blue";
    ctx.fillRect(x*tile,y*tile,tile,tile);
   }else{
    ctx.fillStyle="white";
    ctx.beginPath();
    ctx.arc(x*tile+10,y*tile+10,3,0,Math.PI*2);
    ctx.fill();
   }
  }
 }
 // pacman
 ctx.fillStyle="yellow";
 ctx.beginPath();
 ctx.arc(pac.x*tile+10,pac.y*tile+10,9,0,Math.PI*2);
 ctx.fill();

 // ghost
 ctx.fillStyle="red";
 ctx.beginPath();
 ctx.arc(ghost.x*tile+10,ghost.y*tile+10,9,0,Math.PI*2);
 ctx.fill();
}

function move(dx,dy){pac.dx=dx;pac.dy=dy;}

document.addEventListener("keydown",e=>{
 if(e.key=="ArrowUp")move(0,-1);
 if(e.key=="ArrowDown")move(0,1);
 if(e.key=="ArrowLeft")move(-1,0);
 if(e.key=="ArrowRight")move(1,0);
});

function update(){
 let nx=pac.x+pac.dx;
 let ny=pac.y+pac.dy;
 if(map[ny][nx]=="0"){
  pac.x=nx;pac.y=ny;
  score+=10;
  map[ny]=map[ny].substring(0,nx)+"2"+map[ny].substring(nx+1);
 }
 // ghost takip
 if(ghost.x<pac.x)ghost.x++;
 else if(ghost.x>pac.x)ghost.x--;
 if(ghost.y<pac.y)ghost.y++;
 else if(ghost.y>pac.y)ghost.y--;

 if(pac.x==ghost.x && pac.y==ghost.y){
  lives--;
  document.getElementById("lives").innerText=lives;
  pac.x=1;pac.y=1;
  if(lives<=0){
   if(score>best){
    best=score;
    localStorage.setItem("pacbest",best);
   }
   alert("Oyun Bitti! Skor: "+score);
   location.reload();
  }
 }
 document.getElementById("score").innerText=score;
 draw();
}

setInterval(update,200);
draw();
</script>

</body>
</html>
